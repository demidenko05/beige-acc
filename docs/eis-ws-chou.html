<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/png" href="images/favicon.png">
    <script src="js/bootstrap.bundle.min.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/navbar-top.css" rel="stylesheet">
  </head>
  <body>

    <nav class="navbar navbar-expand-md navbar-dark sidebar bg-dark mb-4">
      <div class="container-fluid">
        <a href="index.html" class="navbar-brand navbar-brand-img"><img src="images/logo.png"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-bs-toggle="dropdown" aria-expanded="false">Articles</a>
              <ul class="dropdown-menu" aria-labelledby="dropdown01">
                <li><a class="dropdown-item" href="eis-bobs-pizza.html">Beigesoft™ EIS, Bob's pizza example</a></li>
                <li><a class="dropdown-item" href="eis-iv.html">Пример ведения коммерческого бухгалтерского учета в Беижсофт™ ИСП</a></li>
                <li><a class="dropdown-item" href="blcexmplen.html">Beigesoft™ libraries for rapid development of cross-platform financial WEB-applications</a></li>
                <li><a class="dropdown-item" href="blcexmplru.html">Беижсофт™ библиотеки для быстрой разработки кроссс-платформенного финансового ПО с ВЕБ-интерфейсом</a></li>
                <li><a class="dropdown-item" href="data-protect.html">Data protection</a></li>
                <li><a class="dropdown-item" href="bslfsc.html">Beigesoft™ Linux From Source Code</a></li>
                <li><a class="dropdown-item" href="bslfscru.html">Беижсофт™ Линукс из исходных кодов</a></li>
                <li><a class="dropdown-item" href="bs-ctsp-in-c.html">Type-safe programming complex high-level applications in C</a></li>
                <li><a class="dropdown-item" href="pdesign.html">Programming approaches</a></li>
                <li><a class="dropdown-item" href="bsplay.html">Beigesoft™ multimedia player</a></li>
                <li><a class="dropdown-item" href="gitpassgnupg.html">Using GnuPG as a safe password manager</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-bs-toggle="dropdown" aria-expanded="false">Info</a>
              <ul class="dropdown-menu" aria-labelledby="dropdown01">
                <li><a class="dropdown-item" href="privacypolicy-en.html">Beigesoft™ Enterprise Information System Privacy Policy</a></li>
                <li><a class="dropdown-item" href="privacypolicy-ru.html">Беижсофт™ Информационная Система Предприятия Политика конфиденциальности</a></li>
                <li><a class="dropdown-item" href="license-eis.html">Beigesoft™ Enterprise Information System License</a></li>
                <li><a class="dropdown-item" href="beigekeys.html">Beigesoft™ digital signatures</a></li>
              </ul>
            </li>
          </ul>
          <ul class="navbar-nav navbar-right">
            <li class="nav-item">
              <a class="nav-link" href="https://www.facebook.com/Beigesoft-Accounting-All-In-One-401150900677249">Page on Facebook</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container">

        <h3>Bob's web-store example. Part 2, cart checkout, imposed delivering (shipping).</h3>

        <p><b>* See previous article about how to add a S.E. Seller, an item, etc into the web-store.</b></p>

        <p>"Imposed delivering (shipping), free from N total" is a widely used method.
          Here is an example - "Delivering 10USD, free from 300USD total".</p>
        
        <p>Create this service in the <b>menu -> Appearance -> Desktop -> Common -> Services</b> with the tax category STS11%.
          Then open the <b>menu -> ... -> Administrator</b> and:
          <ul>
            <li>add price 10USD for all buyers <b>Pricing -> Service price</b></li>
            <li>add availability "always available", quantity "9999999999" in <b>Catalog G/S -> Service place</b></li>
            <li>add delivering methods <b>Common - Delivering methods</b>:
              <ul>
                <li>Pick up by buyer</li>
                <li>Delivering with this service and "Applying method=300"</li>
              </ul>
            </li>
          </ul>
        </p>
        <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou1.png" /></p>

      <h4>Online payment.</h4>
      <p>Right now Beigesoft™ web-store has only PayPal online payment method.
        Adding any other 3-d party payment gateway is not a difficult task.
        All payment gateways work in the same way: it's created a "payment circle" between "payer web-browser"-"payee web-store"-"payment gateway".
        It's usually made with JSON requests. Payment gateway usually provide "SDK" to avoid making JSON queries by hand (including OAuth2 authentication) and for data validation prior to sending.
        Buyer's payment method (secret data) is handled entirely by payment gateways.
        To use PayPal you should either compile "web-store" by yourself (see example <a href="https://github.com/demidenko05/beige-accoio-web">beige-accoio-web</a>),
        or reassemble the WAR file with included "beigesoft-ppl.jar" library.
      </p>
      
      <h4>S.E. seller's items.</h4>
      <p>User can order any item. During checkout cart will be used to make customer orders - one for web-store owner's items and others for S.E.Seller's ones.
        To demonstrate this, add new S.E. seller "Yoga Teacher" (you should login as administrator):
        <ul>
          <li>add "Debitor/creditor" "Yoga Teacher" in <b>menu -> Appearance -> Desktop -> Common</b></li>
          <li>add "User": name-"YogaTeacher", password-"****" in <b>menu -> ... -> Administrator -> ... -> Users</b></li>
          <li>add "User role": user-"YogaTeacher", role-"seller" in <b>menu -> ... -> Administrator -> ... -> User roles</b></li>
          <li>add "S.E.Seller": seller-"Yoga Teacher", user-"YogaTeacher" in <b>menu -> ... -> Administrator -> Catalog G/S -> S.E.Sellers</b></li>
        </ul>
        Then logout and login as Yoga Teacher in <b>menu -> Admin -> S.E.Seller</b> where:
        <ul>
          <li>add S.E. good - "Yoga uniform" tax category STG4.7%, STG6.4%</li>
          <li>add S.E. good in place - quantity 20, "is always = NO", place "NY" (any place can be added only by administrator)</li>
          <li>add S.E. good price - 100USD for "price for all" price category.</li>
          <li>add S.E. service - "Yoga class 2 months, starts on 2 April", tax category STS11%</li>
          <li>add S.E. service in place - quantity 20, "is always = NO", place "NY"</li>
          <li>add S.E. service price - 500USD for "price for all" price category.</li>
        </ul>
      </p>
      <p>Finally, to add these items to list, login as administrator and add them with "menu-S.E.Good/Service in catalog", then set "Contains S.E.Goods/Services" for that catalog. Then push "... -> Refresh items in list".</p>

      <h4>Buyer registration.</h4>
      <p>A buyer can add an item into the cart without registration. Cart checkout requires a registered and authorized buyer.
        Any unregistered buyer should fill the "Sign Up" fields (name minimum 3 letters). Any registered buyer should use its email and password for sign in:
      </p>
      <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou2.png" /></p>

      <h4>Online payment settings.</h4>
      <p>If you build the web-store with the PayPal payment library, then add a payment method <b>menu -> ... - Administrator -> Common -> Payments methods</b>, e.g.:
      </p>
      <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou3.png" /></p>
      <p><i>* Where name must be exactly "PAYPAL", sec1 - "payee ID", sec2 - "payee Secret", mode - "sandbox/production".</i></p>
      
      <p>S.E.sellers also may has payee methods. You can set it: <b>... -> Additional settings - Online payment mode=0</b>.
        The default "Online payment mode=1" means that the web-store owner is the only payee, i.e. it will receive payments for the all S.E. orders.
        In the case of several payee, buyer can order the only payee goods in this version, otherwise it will face the error.</p>

      <h4>Cart checkout.</h4>

      <p>After adding 2 items, the cart is:
      </p>
      <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou4.png" /></p>
      
      <p>After adding the "Yoga class" item, the delivering fee is waived:</p>
      <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou5.png" /></p>

      <p>Press the "checkout" button, these two orders will be created:</p>
      <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou6.png" /></p>

      <p>
        Press the "PayPal Checkout" button, the online payment checkout form will appeared:
      </p>
      <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou7.png" /></p>
      <p>The payment accepted, so the buyer can list all its orders:</p>
      <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou8.png" /></p>
      <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou9.png" /></p>
      
      <h4>Customer orders</h4>
      <p>Right now creating an invoice from an order is not yet implemented. Web-store admin can change web-store owner's orders status to "payed/closed/canceled" in the "Pricing" menu.
        And so does any S.E. seller. S.E. seller can't see others seller's items, orders. Webstore-admin can only see all S.E. seller data.
      </p>
      <p>
        A buyer and  a seller can print their orders, e.g.:
      </p>
      <p align="center"><img alt="Beige-Webstore settings" style="max-width: 100%" src="images/wschou10.png" /></p>

      <footer class="blog-footer">
        Copyright &#169; 2017 <a href="https://demidenko05.github.io/beige-acc/">Beigesoft™</a> All rights reserved.      
      </footer>

    </main>

  </body>

</html>

