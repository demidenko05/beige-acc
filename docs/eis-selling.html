<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2021-02-05 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Beigesoft - 
    Beigesoft™ Enterprise Information System</title>
    <style type="text/css" media="all">
      @import url("./css/bootstrap.min.css");
      @import url("./css/bootstrap-theme.min.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20210205" />
    <meta http-equiv="Content-Language" content="en" />
        
          <link rel="icon" href="images/favicon.png">
  </head>
  <body>
      <img class="logo-right" src="images/logo.png" alt="${project.organization.name} logo">
    <div class="page-header">
      <h1>Beigesoft™ Enterprise Information System Java code. <small>      
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2021-02-05</span>
                  &nbsp;| <span id="projectVersion">Version: 1.2-SNAPSHOT</span>
                      </div>
      </small></h1>
    </div>
    <div id="leftColumn" class="list-group">
              
                    
                                <h5>Project Documentation</h5>
                  
                                                                                                                                                                                                                                                                        <a href="project-info.html" class="list-group-item"><span class='glyphicon glyphicon-expand' aria-hidden='true'></span>  Project Information</a>
                                                                                                               <a href="project-reports.html" class="list-group-item"><span class='glyphicon glyphicon-expand' aria-hidden='true'></span>  Project Reports</a>
                   
                       <h5>Articles</h5>
                  
                                  <a href="eis-bobs-pizza.html" class="list-group-item">Beigesoft™ EIS, Bob's pizza example</a>
                                     <a href="eis-iv.html" class="list-group-item">Пример ведения коммерческого бухгалтерского учета в Беижсофт™ ИСП</a>
                                     <a href="blcexmplen.html" class="list-group-item">Beigesoft™ libraries for rapid development of cross-platform financial WEB-applications.</a>
                                     <a href="blcexmplru.html" class="list-group-item">Беижсофт™ библиотеки для быстрой разработки кроссс-платформенного финансового ПО с ВЕБ-интерфейсом</a>
                                     <a href="bslfsc.html" class="list-group-item">Beigesoft™ Linux From Source Code</a>
                                     <a href="bslfscru.html" class="list-group-item">Беижсофт™ Линукс из исходных кодов</a>
                                     <a href="bsplay.html" class="list-group-item">Beigesoft™ multimedia player</a>
                                     <a href="bs-ctsp-in-c.html" class="list-group-item">Type-safe programming complex high-level applications in C.</a>
                                     <a href="pdesign.html" class="list-group-item">Programming approaches.</a>
                                     <a href="data-protect.html" class="list-group-item">Data protection.</a>
             
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
          </div>
    <div id="bodyColumn">
        

  

    <div class="section">
<h2>Accounting for sales, prepayments, payments tracking, COGS.<a name="Accounting_for_sales_prepayments_payments_tracking_COGS."></a></h2>
    
<p><b>Keywords: Accounting for sales, payments tracking software, sales taxes, Cost Of Goods Sold.</b></p>

      
<p>Sales taxes (VAT, GST) imposed on a buyer are always extracted from sales revenue, and a seller has to remit them to tax revenue authorities. This rule is applied in all countries.
      For the USA see <a class="externalLink" href="https://www.irs.gov/pub/irs-pdf/p535.pdf">IRS 535 Business Expenses, Page 18</a>:
</p>
<div>
<pre style="white-space: pre-wrap;">
...
CAUTION: Do not deduct state and local sales taxes imposed on the buyer that you
must collect and pay over to the state or local government. Also, do not include these
taxes in gross receipts or sales.
...
</pre></div>
      

      
<p>Bob should not apply sales taxes for frozen pizza, but here is used fake sales taxes for goods with cheese and all services (only for example purpose)!</p>
      
      
<p>To apply a sales tax for a material/merchandise/service you should:
      </p>
      
<p>1. Add a <b>Tax</b> (type must be &quot;Sales (VAT)&quot;!) e.g.:
      </p>
      
<p align="center"><img src="images/taxfake.png" alt="Beigesoft™ EIS sales tax" style="max-width: 100%" /></p>
      
<p>2. Add a <b>Tax Category</b> e.g.:
      </p>
      
<p align="center"><img src="images/taxcat.png" alt="Beigesoft™ EIS merchandise sales tax category" style="max-width: 100%" /></p>
      
<p>3. Set a <b>Tax Category</b> for a material e.g.:
      </p>
      
<p align="center"><img src="images/setsaltax.png" alt="Beigesoft™ EIS set merchandise sales tax" style="max-width: 100%" /></p>
      
<p>4. In the &quot;Accounting settings&quot; set &quot;extract sales taxes from sales&quot; to &quot;Yes&quot; and set <b>ST aggregate rate</b> to &quot;Yes&quot;, this means that an item can have only tax, or in case &quot;multi-taxes&quot; it's used aggregate rate, this is the most used method.
        Then switch to &quot;Yes&quot; &quot;Entries source #11 Sales Invoice, Debit Receivable per customer, Credit Sales taxes payable per tax for tax amount.&quot;
      </p>

      
<p>
        Bob received a prepayment for 50 USD from the &quot;Mini Market&quot; on Jan 16.
        Bob filled this &quot;Prepayment From&quot;:
      </p>
      
<p align="center"><img src="images/prepfrom1.png" alt="Beigesoft™ EIS prepayment for sales" style="max-width: 100%" /></p>
      
<p>The full report of the posted document is:</p>
      
<p align="center"><img src="images/prepfrom2.png" alt="Beigesoft™ EIS prepayment for sales report" style="max-width: 100%" /></p>
      
<p>
        Bob sold on Jan 17 6 Pizza with bacon frozen and 6 Pizza with cheese frozen to the &quot;Mini Market&quot; (he also sold 3 pounds of cheese and 1.5 hours of cleaning for example purposes).
        Bob filled this &quot;Sales invoice&quot;:
      </p>
      
<p align="center"><img src="images/sales0.png" alt="Beigesoft™ EIS sales invoice" style="max-width: 100%" /></p>
      
<p>The full report of the posted &quot;Sales invoice&quot; is:</p>
      
<p align="center"><img src="images/sales1.png" alt="Beigesoft™ EIS sales invoice report" style="max-width: 100%" /></p>
      
<p align="center"><img src="images/sales2.png" alt="Beigesoft™ EIS sales invoice report" style="max-width: 100%" /></p>
      
<p>
        After that the &quot;Trial balance&quot; is:
      </p>
      
<p align="center"><img src="images/trbalan2.png" style="max-width: 100%" alt="" /></p>
      
<p>
        The &quot;Ledger&quot; of the &quot;Inventory&quot; account is:
      </p>
      
<p align="center"><img src="images/ledginv1.png" alt="Beigesoft™ EIS Ledger Inventory" style="max-width: 100%" /></p>
      
<p align="center"><img src="images/ledginv2.png" alt="Beigesoft™ EIS Ledger Inventory" style="max-width: 100%" /></p>
      
<p>
        As you can see Bob made another mistake. He set the Sales date less than the Manufacturing one for that pizza, so
        the balance of the &quot;Inventory.Pizza Cheese Frozen&quot; account is -18.93 (any minus balance is highlighted with red color) at 4:07 PM because it(pizza) was made at 6:36 PM.
        So it's reasonable to make the database copy more frequently. Just copy <b>&quot;bseis.sqlite&quot;</b>
        by a file explorer without exiting from the application (on Android use the application starting interface).
        For a warehouse's document the date means nothing because warehouse
        entries use the current time. And you can't withdraw a product or a material if it doesn't exist in the warehouse.
      </p>

      
<div class="section">
<div class="section">
<h4>Payments tracking.<a name="Payments_tracking."></a></h4>
      
<p>Bob received on 18 Jan the rest 107.64 USD from the &quot;Mini Market&quot; for the &quot;Sales invoice #1&quot;:
      </p>
      
<p align="center"><img src="images/paymesal1.png" alt="Beigesoft™ EIS payment for sales" style="max-width: 100%" /></p>
      
<p>It made these simple accounting entries:
      </p>
      
<p align="center"><img src="images/paymesal2.png" alt="Beigesoft™ EIS payment for sales report" style="max-width: 100%" /></p>
      
<p>After that, the sales invoice's payment tracking fields in the list are changed:
      </p>
      
<p align="center"><img src="images/salpaymtrack.png" alt="Beigesoft™ EIS payment for sales tracking" style="max-width: 100%" /></p>
      
<p>You can use the filter for the fields <b>Payment total</b> and <b>Pay by date</b> to report payments for sales:
      </p>
      
<p align="center"><img src="images/salpaymtrack1.png" alt="Beigesoft™ EIS report payments for sales" style="max-width: 100%" /></p>

      </div>
<div class="section">
<h4>Sales tax rounding mode.<a name="Sales_tax_rounding_mode."></a></h4>
      
<p>Truly &quot;Rounding&quot; is &quot;revealing the nearest number with reduced decimal places to the given (source) one&quot;.
        Both &quot;Half-up&quot; and &quot;Half-down&quot; give the nearest result, but &quot;Half-up&quot; is the standard.
      </p>
      
<p>Example for numbers: &quot;20.215&quot;, &quot;20.21501&quot; and &quot;20.21499&quot;, rounding to cents - 2 decimal places.</p>
      
<p><b>Half-up</b>:
</p>
<div>
<pre style="white-space: pre-wrap;">
  round(20.215) = 20.22, not 20.21
  checking: (20.22-20.215)=0.005 equals to (20.215-20.21)=0.005
  round(20.21501) = 20.22, not 20.21
  checking: (20.22-20.21501)=0.00499 less than (20.21501-20.21)=0.00501
  round(20.21499) = 20.21, not 20.22
  checking: (20.21499-20.21)=0.00499 less than (20.22-20.21499)=0.00501
</pre></div>
      
      
<p><b>Half-down</b>:
</p>
<div>
<pre style="white-space: pre-wrap;">
  round(20.215) = 20.21, not 20.22
  checking: (20.215-20.21)=0.005 equals to (20.22-20.215)=0.005
  round(20.21501) = 20.22, not 20.21
  checking: (20.22-20.21501)=0.00499 less than (20.21501-20.21)=0.00501
  round(20.21499) = 20.21, not 20.22
  checking: (20.21499-20.21)=0.00499 less than (20.22-20.21499)=0.00501
</pre></div>
      
      
<p>They like to introduce new methods in the financial sphere, including rounding.
        Method &quot;CELL&quot; is useful to make a &quot;cent discount&quot;.
        Make sure about sales tax calculation rules in your country.
        If before rounding you have to rip decimal places to 3, then &quot;half-down&quot; of &quot;20.21501&quot; gives &quot;20.215&quot;-&gt;&quot;20.21&quot;, so you save a cent.
        If you have to always round up all fractions after 2 decimal places, then &quot;half-up&quot; of &quot;20.21499&quot; gives &quot;20.215&quot;-&gt;&quot;20.22&quot;, so you lose a cent.
        Because of it, Beigesoft&#x2122; EIS allows you to change the tax amount in any invoice.
      </p>
      
<p>If you have a choice between a standard thing and a new one, then you should better select the standard one to avoid problems.</p>

    
<p>Cost Of Goods Sold.</p>
    
<p>Here is used the most natural FIFO method. It's easy to understand and make it by computer. It's hard to make and track it by hand, unless you sell a few items per day.
      The average method is suitable when making it by hand i.e. without a computer.
      The LIFO is a little bit bizarre (it's hard to track) and it's lawless in many countries.
    </p>
    
<p>When we use items and make COGS entries, then we often face rounding errors.
      For example 120 eggs for 20 USD, price (rounded)=0.17USD, so withdrawal 119 eggs * 0.17USD = 20.23USD, that is no good.
      In old &quot;Beige Accounting&quot; you should use more decimal places for cost (price) to reduce the rounding error, and yet, a little rounding error (the rest) might occur in the &quot;Inventory&quot; assets account.
      That is price(cost) = 0.1667 * 120 = 20.00, so there is no remaining &quot;the rest&quot; in this and most cases.
      New COGS withdrawal algorithm allows to use the same precision (decimal places) for cost as price without any problem, the equation is:
</p>
<div>
<pre style="white-space: pre-wrap;">
  IF items left - quantity != 0 THEN  amount to withdrawal = round(total left / items left * quantity, price decimal places)
  IF items left - quantity == 0 THEN  amount to withdrawal = total left
  e.g. 119 eggs to withdrawal, items left = 120, total left = 20, price decimal places = 2, so:
  amount to withdrawal = round (20 / 120 * 119, 2) = 19.83
  after that items left = 1, total left = 0.17
  the rest 1 egg:
  amount to withdrawal = total left = 0.17
</pre></div>
    
    
<p>To check this, just create a new test purchase (6 eggs for 4.29USD total) and one test sale for 96 eggs.
    </p>
    
<p>The &quot;Purchase#1&quot; (that was made before) has the rest of the eggs - 94 eggs for 15.66 USD:
    </p>
    
<p align="center"><img src="images/cogs1.png" alt="Beigesoft™ EIS COGS" style="max-width: 100%" /></p>
    
<p>New test &quot;Purchase#2&quot; 17 Jan has 6 eggs for 4.29 USD total (prior to the test sale):
    </p>
    
<p align="center"><img src="images/cogs2.png" alt="Beigesoft™ EIS COGS" style="max-width: 100%" /></p>
    
<p><i>* The field &quot;Total left&quot; is always zero for a new &quot;item source line&quot;, it's cause of used algorithm (because of complex cost revealing depends on used tax methods: item/invoice basis, tax included...), and it actually means that the &quot;Total left&quot; equals to &quot;Total&quot;.</i></p>
    
<p>New test &quot;Sale#3&quot; full report:
    </p>
    
<p align="center"><img src="images/cogs3.png" alt="Beigesoft™ EIS COGS" style="max-width: 100%" /></p>
    
<p>Now the &quot;Purchase#1&quot; has no eggs left:
    </p>
    
<p align="center"><img src="images/cogs4.png" alt="Beigesoft™ EIS COGS" style="max-width: 100%" /></p>
    
<p>The test &quot;Purchase#2&quot; has 4 eggs for 2.86 USD left:
        
<p align="center"><img src="images/cogs5.png" alt="Beigesoft™ EIS COGS" style="max-width: 100%" /></p>
    


    </div></div></div>
  


    </div>
    <div class="clear">
    </div>
    <hr/>
    <div class="footer">
              Copyright &#169;                   2019&#x2013;2021.
           All rights reserved.      
                    
                </div>
  </body>
</html>
