<?xml version="1.0" encoding="UTF-8"?>
<document xmlns="http://maven.apache.org/XDOC/2.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">

  <properties>
    <title>Беижсофт™ Линукс из исходных кодов (ЛИИК).</title>
   </properties>

  <body>

    <h4>Беижсофт™ Линукс из исходных кодов (ЛИИК).</h4>
    
    <h5>Зачем компилировать из исходных кодов?</h5>
<p>
Практически все Линукс дистрибутивы доступны в бинарном виде.
Многие перестали поддерживать 32разрядные версии. Иногда после обновлений возникают проблемы.
В общем первая причина это иметь стабильный Линукс "собственного производства".
</p>

<h5>Какие методы компиляции существуют?</h5>
<p>
  Первый - это компиляция для данного компьютера и операционной системы. Вы можете скомпилировать таким образом любое высокоуровневое приложение, например музыкальный проигрыватель.
  Для этого нужна минимальная компилирующая система. Это минимум библиотеки и программ - glibc, gcc, binutils, bash...
  Для создания этой минимальной компилирующей системы с нуля нужна кросс-компиляция.
</p>
<p>
  Второй метод это кросс-компиляция. Это компилирование и инсталляция в другой корень (отличный от текущего /), компиляция возможна для отличной от текущей архитектуры, например компиляция для ARM (планшета) на обычном компьютере x86.
  Есть две стандартные переменные для этого: "sysroot" и "DESTDIR".
</p>

<p>Главная проблема в том, что даже низко уровневое ПО не соблюдает стандарты кросс-компиляции.
Например ACL пытается установить несколько мэн-пейдж ссылок в компильрующий корень "/", это исправляется установкой переменной PKG_MAN_DIR.
Другое ПО запускает только-что скомпилированные программы для самоинсталляции, то есть это не пройдет если целевой процессор другого типа.
По этим прицинам следующие версии ЛИИК не будут использовать суперпользователя для инсталляции.
Версия 1.1 использует su root -c "make DESTDIR=$LFSC install", поэтому лучше используйте отдельный Линукс для компиляции,
или уберите "su root" из скриптов и сделайте как описано в версии 1.
</p>

<p>
  Беижсофт™ Линукс из исходных кодов делается методом чистой кросс-компиляции, то есть и для низко-уровневого и для высоко-уровневого ПО.
  ЛИИК пока не имеет компилирующего ПО (gcc, make, ld, ...).
</p>

<p>
Работа была проделана на Debian 9. Он имеет кросс-компиляторы для любых архитектур.
</p>

<p>
Исходные коды (набор bash-скриптов и инструкции): <a href="https://sourceforge.net/projects/linux-from-source-code/">https://sourceforge.net/projects/linux-from-source-code/</a>
</p>
<p>
Ссылки:
<ul>
  <li><a href="https://wiki.debian.org/Multiarch">about cross-compiling https://wiki.debian.org/Multiarch</a></li>
  <li>Linux From Scratch (LFS) http://www.linuxfromscratch.org</li>
  <li><a href="https://trac.clfs.org/">Cross-Compiled Linux From Scratch https://trac.clfs.org/</a></li>
  <li><a href="https://www.linuxjournal.com/content/diy-build-custom-minimal-linux-distribution-source">DIY: Build a Custom Minimal Linux Distribution from Source by Petros Koutoupis</a></li>
</ul>

</p>



  </body>

</document>
